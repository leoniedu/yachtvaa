% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/grib-processing.R
\name{match_grib_to_segments}
\alias{match_grib_to_segments}
\title{Match GRIB current to fastest segments}
\usage{
match_grib_to_segments(fastx, u_study, v_study, grib_times, records_crs)
}
\arguments{
\item{fastx}{\code{data.table} from \code{\link[=fastest_straight_distance]{fastest_straight_distance()}} with columns
\code{start_x}, \code{start_y}, \code{end_x}, \code{end_y}, \code{start_time}.}

\item{u_study, v_study}{Cropped SpatRaster layers (WGS84).}

\item{grib_times}{POSIXct vector of GRIB timestamps (UTC).}

\item{records_crs}{CRS of the records (for midpoint projection).
Accepts anything \code{\link[sf:st_crs]{sf::st_crs()}} understands.}
}
\value{
The input \code{fastx} with added columns \code{current_speed_kmh} and
\code{current_direction_deg}.
}
\description{
For each segment from \code{\link[=fastest_straight_distance]{fastest_straight_distance()}}, extracts U and V
current values at the segment midpoint location and nearest GRIB hour.
Near-shore NA values are filled via focal interpolation.
}
